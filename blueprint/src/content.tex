The proof of the infinitude of primes via the fact that $\log x\le \pi(x)+1$ is the fourth proof of this theorem in Aigner & Ziegler's "Proofs from THE BOOK", and attributed to Euler. I'm a hobby mathematician learning to formalize proofs in the Lean4 language. I chose this proof as a beginner project, not knowing exactly what I went into. However,  the best way to know in many occasions is to make a map. This is the reason for this blueprint. 

The aim of this formalization is to stay close to the text. It turned out that the proof needs "obvious" facts about the primes, and to show these, we cannot use Mathlib4's set of primes, which has infinite cardinality. So, we construct \texttt{FinitePrimes} and prove some of their properties that we need.

\begin{theorem}
\label{thm:infinite_primes}
\lean{infinite_primes}
The set $\mathbb{P} = \bigl{p \in \mathbb{N} \ \big\| \ p \mathrm{prime} \bigr}$ has infinite cardinality. 
\end{theorem}

\begin{theorem}
\label{thm:primeCountingReal_unbounded}
\lean{primeCountingReal_unbounded}
The prime counting function in the real domain, $\pi:\ \mathbb{R} \mapsto \mathbb{N} \ := \#\bigl{p\mid\| p \in\mathbb{P}, p\le x \bigr}$ is unbounded.
\end{theorem}

\begin{theorem}
\label{thm:log_le_primeCountingReal_add_one}
\lean{log_le_primeCountingReal_add_one}
For $x\in\mathbb{R}$, $\log x \le \pi(x) +1$.
\end{theorem}

\begin{lemma}
\label{lem:lemma5}
$$\prod_{k=1}^{\pi(x)}\frac{k+1}{k} = \pi+1$$
\end{lemma}

\begin{lemma}
\label{lem:lemma4}
$$\prod_{k=1}^{\pi(x)}\frac{p_k}{p_k-1} \le \prod_{k=1}^{\pi(x)}\frac{k+1}{k}$$
\end{lemma}

\begin{lemma}
\label{lem:lemma3}
$$\underset{p\le x}\prod_{p\in\\mathbb{P}}\Big(\sum_{k\in\mathbb{N}}\frac{1}{p^k}\Bigr) = \prod_{k=1}^{\pi(x)}\frac{p_k}{p_k-1}$$
\end{lemma}

\begin{lemma}
\label{lem:lemma2}
Given the infinite set $S_x$ of all numbers $m$, that have only prime factors $p\le x$,
$$\sum{m\in S_x}\frac{1}{m} = \underset{p\le x}\prod_{p\in\\mathbb{P}}\Big(\sum_{k\in\mathbb{N}}\frac{1}{p^k}\Bigr)$$
\end{lemma}

begin{lemma}
\label{lem:lemma1}
Given the infinite set $S_x$ of all numbers $m$, that have only prime factors $p\le x$,
$$\sum_1^n\frac1n \le \sum{m\in S_x}\frac{1}{m} $$
\end{lemma}

